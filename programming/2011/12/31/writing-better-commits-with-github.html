<!DOCTYPE html>
<html xmlns:fb="http://ogp.me/ns/fb#">

  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="author" content="Charles Sprayberry" />
  <meta name="description" content="How to make better commits with github by committing frequently, consistently formatting your messages and documenting what you want to do." />
  <title>writing better commits with github -- blog.cspray.net</title>
  <link href="/all.css" type="text/css" rel="stylesheet" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</head>


  <body>

    <header class="clearfix">
  <h1 class="soft-margin-left pull-left"><a href="/">cspray.net</a><span class="text-muted">::programming</span></h1>
  <ul class="social-icons no-padding no-list-icon clearfix">
    <li class="pull-left"><a class=" social-icon--stack-overflow" href="https://stackoverflow.com/users/746010/cspray"><i class="fa fa-stack-overflow fa-3x"></i></a></li>
    <li class="pull-left"><a class=" social-icon--github" href="https://github.com/cspray"><i class="fa fa-github-square fa-3x"></i></a></li>
    <li class="pull-left"><a class=" social-icon--twitter" href="https://twitter.com/charlesspray"><i class="fa fa-twitter-square fa-3x"></i></a></li>
    <li class="pull-left"><a class=" social-icon--facebook" href="https://www.facebook.com/cspraysworld"><i class="fa fa-facebook-official fa-3x"></i></a></li>
    <li class="pull-left"><a  href="mailto:cspray+blog@gmail.com"><i class="fa fa-envelope-o fa-3x"></i></a></li>
  </ul>
</header>


    <main class="container-fluid">
      <div class="row">
        <section class="col-md-8">
          <h2>writing better commits with github</h2>
<p class="text-muted">
  By <strong>Charles Sprayberry</strong> <span title="2011-12-31 00:00:00 -0500">3 years and 7 months ago</span>
  <br />
  Category: <a href="/programming">programming</a>
</p>


<div class="post-content">
  
    <div class="alert alert-danger">
  This post is very outdated and does not represent the standards or practices
  that I currently endorse or implement.
</div>

  

  
    <div class="alert alert-warning">
  <p>
    This post talks about an old, dead project, SprayFire; you can
    <a href="/programming/2015/08/02/saying-goodbye-to-sprayfire.html">read about it's demise</a>.
    All links pointing to the project have been removed.
  </p>
</div>

  

  <p>As the development of SprayFire progresses I'm constantly evaluating what I'm doing, how I'm doing it
and what tools I'm using.  Lately I've been thinking about the way I use <strong>git</strong>, my
version control software of choice.  Looking through some of the commits for SprayFire I can tell that
my commit strategy needs some work.  Commit messages are sometimes lengthy or don't really convey what
the commit is doing.  What are some things that I can do to improve my commits and make for a more maintainable project?</p>

<h3>commit, commit, commit</h3>
<p>Well, the first thing is to simply commit more often.  Too often I find myself making a series of
small refactors and never commiting my changes between refactors.  Next thing I know I've found myself
making a single commit where the entire file has changed and instead I should have made three or four
smaller commits changing a fragment of the file at a time.</p>
<p>While small, simple classes can make this easy to get away with it can bite you when your classes
become more complex.  It is important to establish a "muscle memory" if you will.  What you do with
your small, simple classes will wind up translating over into the bigger, complex classes.  If you
<em>always</em> commit early and often then you never wind up finding yourself refactoring an entire file
between commits.</p>

<h3>thou shalst format thy commits</h3>
<p>Please, for all that is good and right in this world, have a consistent format for commit messages.
While my own messages could certainly use some work in this regard one of the things I do adhere to
is a 3 letter prefix on every commit that tells me what I'm doing.  Here's a list of my prefixes
and what they mean:</p>

<div class="highlight">
    <pre>
---------------------------------------------------------------------------------
| Prefix                    |       Meaning                                     |
---------------------------------------------------------------------------------
|   ADD                     | I have created a new file that did not previously |
|                           | exist in the repository.                          |
---------------------------------------------------------------------------------
|   UPD                     | I have updated a file that already exists in the  |
|                           | repository.                                       |
---------------------------------------------------------------------------------
|   DEL                     | I have removed a file from the repository.        |
---------------------------------------------------------------------------------
|   DEL &amp; ADD               | I have renamed or moved a file                    |
---------------------------------------------------------------------------------
    </pre>
</div>

<p>This makes it easy to look through commits and tell at a glance what I've done.  It also makes looking
for commits with <code>git log</code> extremely easy.  Wanna know about any deleted files?  As simple as:</p>

<p><code>git log --grep=DEL</code></p>

<p>Although I have a prefix strategy after that it has been pretty much free-for-all.  Perhaps instead
I should have a concrete format for commits.  Maybe something that looks like:</p>

<p><code><i>prefix</i> class_or_file message [<i>issue link</i>]</code></p>

<h3>use github's resources</h3>
<p>The wonderful thing about github is the simple, flexible, open-source tools they make available to you.
This blog for example is powered by <a href="https://github.com/mojombo/jekyll">github's very own Jekyll</a>.  Not
only that but they provide you with issue/milestone tracking and a simple wiki.  Certainly for larger projects
these tools may not be sufficient but for intermediate use these are wonderful tools to help manage your
project.</p>

<p><strong>Write an issue for everything you want to do.</strong></p>

<p>Yea, that's right.  If it is an important part of your application, and let's face it what isn't,
or needs to be done write up an issue.  Tag a label onto it, assign it to somebody.  Assign it to a milestone,
a concrete goal for what you want your application to do. The reasons to do this go beyond just making clean
commits but helps guide you to a better application.  You're much more likely to rewrite a flawed design
typed up as an issue as compared to if you actually took the time to implement that flawed design.  This has
already saved me countless times with SprayFire.  You also get the satisfaction of closing issues and seeing
actual progress with your application.</p>

<p>But, I started to ramble.  How does that impact our github commit messages?  Well, remember those wonderful
tools that github provides for you?  Part of that is referencing issues and milestones from within commits.
Does the commit you just made have an issue associated with it?  At the end of the commit message add
something that looks like: <code>cspray/SprayFire#1</code>, replacing your github username, repository name
and issue number as appropriate.  You automatically get a link to that issue in your commit and, even
cooler, the commit shows up when you look at the issue!  This can be an incredibly handy tool to easily
get the documentation needed for a given issue or commit.</p>

<p>
Even cooler, as detailed at the <a href="https://github.com/blog/831-issues-2-0-the-next-generation">github blog</a>, you can actually <strong>close</strong> issues
with commit messages!  Awesome!  Just prefix your issue number or link with any of the below words:
<ul style="list-style-position:inside;">
<li>fixes</li>
<li>fixed</li>
<li>fix</li>
<li>closes</li>
<li>closed</li>
<li>close</li>
</ul>
</p>

<h3>wrapping it up</h3>

<p>Well, now that I've talked about making better git commits I think I'm gonna go make some of my
own.  Happy committing.</p>

</div>

        </section>

        <aside class="col-md-4">
          <div class="alert alert-warning">
            <p>
              The site is currently undergoing a migration. <strong>Comments are temporarily disabled
              until the migration is complete</strong>. I appreciate the activity from the occiasional
              reader and plan on enabling comments again soon.
            </p>
          </div>
          <p>My name is Charles Sprayberry. I <a href="https://github.com/cspray">write software for the web</a>,
          <a href="https://designbook.com">help your startup raise money</a>, play video games, and train dogs.
          I have a beautiful wife named Dyana.</p>

          <p><a href="/about.html">Learn more about me.</a></p>

          <h3>Categories</h3>

          
            <div>
              
              <h4>programming <span class="badge">20</span></h4>
              <ul class="no-list-icon"><li><a href="/programming/2015/08/02/saying-goodbye-to-sprayfire.html">saying goodbye to SprayFire</a> <p class="text-muted">Posted today</p></li><li><a href="/programming/2014/01/09/you-decided-write-framework-anyway.html">you decided to write a framework anyway</a> <p class="text-muted">Posted 1 year and 6 months ago</p></li><li><a href="/programming/2013/08/21/thoughts-json-oss-license.html">thoughts on JSON and OSS licensing</a> <p class="text-muted">Posted 1 year and 11 months ago</p></li><li><a href="/programming/2013/06/06/why-i-tdd.html">why I TDD</a> <p class="text-muted">Posted 2 years and 1 month ago</p></li><li><a href="/programming/2013/03/05/you-shouldnt-write-framework.html">you shouldn't write a framework</a> <p class="text-muted">Posted 2 years and 5 months ago</p></li><li><a href="/programming/2012/08/13/programming-not-just-writing-code.html">programming is not just writing code</a> <p class="text-muted">Posted 2 years and 11 months ago</p></li><li><a href="/programming/2012/07/07/the-model-layer-and-class.html">the model, a layer and a class</a> <p class="text-muted">Posted 3 years and 3 weeks ago</p></li><li><a href="/programming/2012/06/30/when-why-use-value-objects.html">when and why to use Value Objects</a> <p class="text-muted">Posted 3 years and 1 month ago</p></li><li><a href="/programming/2012/05/13/stop-calling-them-getters-setters.html">stop calling them getters and setters</a> <p class="text-muted">Posted 3 years and 2 months ago</p></li><li><a href="/programming/2012/03/13/spaghetti-triage.html">spaghetti triage</a> <p class="text-muted">Posted 3 years and 4 months ago</p></li><li><a href="/programming/2012/02/13/a-community-gone-mad.html">a community gone mad</a> <p class="text-muted">Posted 3 years and 5 months ago</p></li><li><a href="/programming/2012/02/10/going-from-solo-to-professional.html">going from solo to professional</a> <p class="text-muted">Posted 3 years and 5 months ago</p></li><li><a href="/programming/2012/01/29/DI-and-global-state.html">DI and global state</a> <p class="text-muted">Posted 3 years and 6 months ago</p></li><li><a href="/programming/2012/01/24/why-you-should-use-DI.html">why you should use DI</a> <p class="text-muted">Posted 3 years and 6 months ago</p></li><li><a href="/programming/2012/01/21/you-better-pay-attention-to-details.html">you better pay attention to details</a> <p class="text-muted">Posted 3 years and 6 months ago</p></li><li><a href="/programming/2012/01/17/dog-training-your-code.html">dog training your code</a> <p class="text-muted">Posted 3 years and 6 months ago</p></li><li><a href="/programming/2012/01/06/how-to-be-great-at-x.html">how to be great at $x</a> <p class="text-muted">Posted 3 years and 6 months ago</p></li><li><a href="/programming/2012/01/03/sprayfire-and-mvc-design-pattern.html">SprayFire and MVC design pattern</a> <p class="text-muted">Posted 3 years and 7 months ago</p></li><li><a href="/programming/2012/01/02/comments-arent-evil.html">comments aren't evil; comment your code</a> <p class="text-muted">Posted 3 years and 7 months ago</p></li><li><a href="/programming/2011/12/31/writing-better-commits-with-github.html">writing better commits with github</a> <p class="text-muted">Posted 3 years and 7 months ago</p></li></ul>
            </div>
          
            <div>
              
              <h4>tech-and-society <span class="badge">2</span></h4>
              <ul class="no-list-icon"><li><a href="/tech-and-society/2013/07/25/web-dev-problems.html">Web Development, the problem</a> <p class="text-muted">Posted 2 years and 1 week ago</p></li><li><a href="/tech-and-society/2012/02/06/why-I-quit-school-what-it-would-take-to-stay.html">why I quit school and what it would take to stay</a> <p class="text-muted">Posted 3 years and 5 months ago</p></li></ul>
            </div>
          
        </aside>
      </div>
    </main>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28863236-1']);
      _gaq.push(['_trackPageview']);
      (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
